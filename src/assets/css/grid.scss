$spacer: 16px; 
$spacers: () !default;
// 4, 8, 12, 16, 20 ... 64
@for $i from 0 through 16 {
  $spacers: map-merge($spacers, ($i: $spacer / 4 * $i))
};

$spacer-utils: (
  "margin": (
    responsive: true,
    property: margin,
    class: ma,
  ),
  "margin-x": (
    responsive: true,
    property: (margin-right, margin-left),
    class: mx,
  ),
  "margin-y": (
    responsive: true,
    property: (margin-top, margin-bottom),
    class: my,
  ),
  "margin-top": (
    responsive: true,
    property: margin-top,
    class: mt,
  ),
  "margin-right": (
    responsive: true,
    property: margin-right,
    class: mr,
  ),
  "margin-bottom": (
    responsive: true,
    property: margin-bottom,
    class: mb,
  ),
  "margin-left": (
    responsive: true,
    property: margin-left,
    class: ml,
  ),
  "padding": (
    responsive: true,
    property: padding,
    class: pa,
  ),
  "padding-x": (
    responsive: true,
    property: (padding-right, padding-left),
    class: px,
  ),
  "padding-y": (
    responsive: true,
    property: (padding-top, padding-bottom),
    class: py,
  ),
  "padding-top": (
    responsive: true,
    property: padding-top,
    class: pt,
  ),
  "padding-right": (
    responsive: true,
    property: padding-right,
    class: pr,
  ),
  "padding-bottom": (
    responsive: true,
    property: padding-bottom,
    class: pb,
  ),
  "padding-left": (
    responsive: true,
    property: padding-left,
    class: pl,
  ),
);


@each $index, $object in $spacer-utils {
  $class: map-get($object, class);
  $propertys: map-get($object, property);

  @for $i from 0 through 16 {
    .#{$class}-#{$i} {
      @if type-of($propertys) == 'string' {
        #{$propertys}: map-get($spacers, $i);
      }
      @if type-of($propertys) == 'list' {
        @each $property in $propertys {
          #{$property}: map-get($spacers, $i);
        }
      }
    }
  }
};